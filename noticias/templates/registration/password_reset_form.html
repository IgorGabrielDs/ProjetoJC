{% extends "base.html" %}
{% load static %}
{% block title %}Esqueceu sua senha? — JC{% endblock %}

{% block content %}
<div class="auth-page">
  <div class="auth-back">
    <a href="{% url 'login' %}">‹ Voltar</a>
  </div>

  <div class="auth-card">
    <!-- Logo central -->
    <img
      src="https://upload.wikimedia.org/wikipedia/pt/f/fd/Logotipo_do_Jornal_do_Commercio_%28Recife%29.png"
      alt="JC Pernambuco"
      class="auth-logo"
    >

    <h1 class="auth-title">Esqueceu sua senha?</h1>
    <p class="auth-sub">
      Informe seu e-mail para enviarmos um código de verificação.
    </p>

    <!-- mensagens globais (caso use messages) -->
    {% if messages %}
      <div class="messages" role="status" aria-live="polite">
        {% for m in messages %}
          <p class="message {{ m.tags }}">{{ m }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <form method="post" class="auth-form" action="{% url 'noticias:password_reset' %}" novalidate>
      {% csrf_token %}

      {# erros do formulário #}
      {% if form.non_field_errors %}
        <div class="errors" role="alert">
          {% for e in form.non_field_errors %}<div>{{ e }}</div>{% endfor %}
        </div>
      {% endif %}
      {% if form.email.errors %}
        <div class="errors" role="alert">
          {% for e in form.email.errors %}<div>{{ e }}</div>{% endfor %}
        </div>
      {% endif %}

      <div class="form-row">
        <label for="id_email" class="auth-label">E-mail cadastrado</label>
        <input
          id="id_email"
          name="email"
          type="email"
          class="auth-input"
          placeholder="Digite seu e-mail cadastrado"
          value="{{ form.email.value|default_if_none:'' }}"
          required
          autofocus
          autocomplete="email"
        >
      </div>

      <button type="submit" class="auth-submit" onclick="this.disabled=true; this.form.submit();">
        Enviar
      </button>
    </form>
  </div>
</div>
{% endblock %}
